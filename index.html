<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RW 01 Dukuh Polodadi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { font-family: Arial, sans-serif; background: #f3f7f3; margin:0; padding:0; }
    header { background: linear-gradient(90deg,#2e7d32,#66bb6a); color:white; text-align:center; padding:80px 20px; }
    .btn-cta { background:#fff; color:#2e7d32; border:none; border-radius:30px; padding:10px 25px; font-weight:bold; }
    section { padding:50px 20px; }
    .footer { background:#1b5e20; color:white; padding:30px 10px; text-align:center; }
  </style>
</head>
<body>

<header>
  <h1>RW 01 - Dukuh Polodadi</h1>
  <p>Desa Tarubasan, Kecamatan Karanganom, Kabupaten Klaten</p>
</header>

<section class="bg-light text-center">
  <h2>Kirim Aspirasi</h2>
  <form id="form-aspirasi" class="mx-auto" style="max-width:400px;">
    <input name="nama" class="form-control mb-2" placeholder="Nama Anda" required>
    <textarea name="pesan" class="form-control mb-2" placeholder="Tuliskan aspirasi atau keluhan..." required></textarea>
    <button type="submit" class="btn btn-success w-100">Kirim</button>
  </form>
  <div id="notif" class="mt-3"></div>
</section>

<footer class="footer">
  <p>&copy; 2025 RW 01 Dukuh Polodadi - Desa Tarubasan, Karanganom, Klaten</p>
</footer>

<script>
const scriptURL = 'https://script.google.com/macros/s/AKfycbwd6UzmnpRgm3W2CRhUgimtAt_XDWP0B5ze0MVBNfKt9ZNea960GuNVt-4mR-GWlkT4/exec';
const form = document.getElementById('form-aspirasi');
const notif = document.getElementById('notif');

form.addEventListener('submit', e => {
  e.preventDefault();
  notif.innerHTML = '<div class="text-info">Mengirim data...</div>';

  fetch(scriptURL, { method: 'POST', body: new FormData(form) })
    .then(res => res.json())
    .then(result => {
      if (result.result === "success") {
        notif.innerHTML = '<div class="alert alert-success">✅ Aspirasi berhasil dikirim!</div>';
        form.reset();
      } else {
        notif.innerHTML = '<div class="alert alert-danger">❌ Terjadi kesalahan: ' + result.message + '</div>';
      }
    })
    .catch(err => {
      notif.innerHTML = '<div class="alert alert-danger">❌ Gagal mengirim. Pastikan koneksi aktif.</div>';
      console.error(err);
    });
});
</script>

</body>
</html>
